<!doctype html>
<html lang="nl">
<head>
    <meta charset="utf-8">
    <title>Rating / Progressive Enhancement / FDND</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <link href="assets/styles.css" rel="stylesheet">
    <style>
        /* CSS for the component */
        
        form {
            padding: 0.5em;
        }

        input[type="radio"] {
            display: none;
        }

        label {
            color: grey;
            cursor: pointer;
        }

        svg {
            fill: var(--green);
            width: 50px;
        }

        svg:hover {
            fill: yellow;
        }

        input[type="radio"]:checked + label svg {
            fill: yellow;
        }

        section {
            display: flex;
            flex-wrap: wrap;
            gap: 0.2em;
        }

        .loader {
            width: 50px;
            aspect-ratio: 1;
            --_c:no-repeat linear-gradient(orange 0 0) 50%; 
            background: 
                var(--_c)/100% 50%,
                var(--_c)/50% 100%;
            border-radius: 50%;
            animation: l29 2s infinite linear;
            opacity: 1;
        }

        @keyframes l29 {
            100% {transform: rotate(1turn)}
        }

        .success {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            animation: none;
        }
    </style>
</head>
<body>
    <h1>Rating</h1>

    <form method="post">
        <!-- Rating stars form -->
    </form>

    <details open>
        <summary>Demo video</summary>
        <video src="assets/rating.mp4" width="271" height="110" controls muted autoplay loop>
            <a href="assets/rating.mp4">assets/rating.mp4</a>
        </video>
    </details>

    <form>
        <section class="rating-stars">
            <input id="radio1" type="radio" name="star" value="1">
            <label for="radio1"><svg viewBox="0 0 576 512"><path d="M288 0c9 0 17 5 21 14l69 141 153 22c9 2 17 8 20 17s0 18-6 24L434 328l26 156a24 24 0 0 1-35 25l-137-73-137 73c-8 4-18 4-25-2s-11-14-10-23l26-156L31 218a24 24 0 0 1 14-41l153-22 68-141c4-9 13-14 22-14zm0 79-53 108c-3 7-10 12-18 13L99 219l86 85c5 6 8 13 7 21l-21 120 106-57c7-3 15-3 22 1l105 56-20-120c-1-8 1-15 7-21l86-85-118-17c-8-2-15-7-18-14L288 79z"/></svg></label>
              
            <input id="radio2" type="radio" name="star" value="2">
            <label for="radio2"><svg viewBox="0 0 576 512"><path d="M288 0c9 0 17 5 21 14l69 141 153 22c9 2 17 8 20 17s0 18-6 24L434 328l26 156a24 24 0 0 1-35 25l-137-73-137 73c-8 4-18 4-25-2s-11-14-10-23l26-156L31 218a24 24 0 0 1 14-41l153-22 68-141c4-9 13-14 22-14zm0 79-53 108c-3 7-10 12-18 13L99 219l86 85c5 6 8 13 7 21l-21 120 106-57c7-3 15-3 22 1l105 56-20-120c-1-8 1-15 7-21l86-85-118-17c-8-2-15-7-18-14L288 79z"/></svg></label>
              
            <input id="radio3" type="radio" name="star" value="3">
            <label for="radio3"><svg viewBox="0 0 576 512"><path d="M288 0c9 0 17 5 21 14l69 141 153 22c9 2 17 8 20 17s0 18-6 24L434 328l26 156a24 24 0 0 1-35 25l-137-73-137 73c-8 4-18 4-25-2s-11-14-10-23l26-156L31 218a24 24 0 0 1 14-41l153-22 68-141c4-9 13-14 22-14zm0 79-53 108c-3 7-10 12-18 13L99 219l86 85c5 6 8 13 7 21l-21 120 106-57c7-3 15-3 22 1l105 56-20-120c-1-8 1-15 7-21l86-85-118-17c-8-2-15-7-18-14L288 79z"/></svg></label>

            <input id="radio4" type="radio" name="star" value="4">
            <label for="radio4"><svg viewBox="0 0 576 512"><path d="M288 0c9 0 17 5 21 14l69 141 153 22c9 2 17 8 20 17s0 18-6 24L434 328l26 156a24 24 0 0 1-35 25l-137-73-137 73c-8 4-18 4-25-2s-11-14-10-23l26-156L31 218a24 24 0 0 1 14-41l153-22 68-141c4-9 13-14 22-14zm0 79-53 108c-3 7-10 12-18 13L99 219l86 85c5 6 8 13 7 21l-21 120 106-57c7-3 15-3 22 1l105 56-20-120c-1-8 1-15 7-21l86-85-118-17c-8-2-15-7-18-14L288 79z"/></svg></label>
          
            <input id="radio5" type="radio" name="star" value="5">
            <label for="radio5"><svg viewBox="0 0 576 512"><path d="M288 0c9 0 17 5 21 14l69 141 153 22c9 2 17 8 20 17s0 18-6 24L434 328l26 156a24 24 0 0 1-35 25l-137-73-137 73c-8 4-18 4-25-2s-11-14-10-23l26-156L31 218a24 24 0 0 1 14-41l153-22 68-141c4-9 13-14 22-14zm0 79-53 108c-3 7-10 12-18 13L99 219l86 85c5 6 8 13 7 21l-21 120 106-57c7-3 15-3 22 1l105 56-20-120c-1-8 1-15 7-21l86-85-118-17c-8-2-15-7-18-14L288 79z"/></svg></label>

            <div></div>
        </section>
    </form>

    <!-- Include the canvas-confetti library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.min.js"></script>

    <script>
        let stars = document.querySelectorAll("input[name='star']");
        let element = document.querySelector("div");

        stars.forEach(star => {
            star.addEventListener("change", function() {
                element.classList.add("loader");
                setTimeout(function() {
                    element.classList.remove("loader");
                    element.classList.add("success");

                    // Trigger confetti
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 }
                    });
                }, 3000);  // 3sec trigger
            });
        });
    </script>
</body>
</html>
